import{_ as a}from"../TableData/TableData.8ec0cfb4.js";import{d as e,t as s,r as t,b as o,w as d,aj as i,o as l,e as n,ak as r,j as m,l as u,v as h,y as c,z as f,ar as p,ad as w,i as b,V as g,ag as _,f as y}from"../.pnpm/.pnpm.66cdfca9.js";import{_ as M}from"../../assets/index.eb4846d5.js";const E=e({setup(){const a=s("reload");return{isShow:t(!1),isEdit:t(!1),loading:t(!1),model:t({id:null,name:""}),reload:a}},methods:{async show(a){this.isShow=!0,this.model.id=a.id,this.isEdit=a.isEdit},async submitFunc(){this.loading=!0;const{data:a,msg:e}=await this.$http.post("admin/api/template/update",this.model);a&&(window.$message.success(e),this.isShow=!1,this.reload()),this.loading=!1}}}),j=u("div",null," //do something ",-1);const k=M(e({name:"Template",components:{TableData:a,FormModal:M(E,[["render",function(a,e,s,t,u,w){const b=h,g=c,_=f,y=p,M=i;return l(),o(M,{show:a.isShow,"onUpdate:show":e[1]||(e[1]=e=>a.isShow=e),width:"48%",placement:"right","auto-focus":!1},{default:d((()=>[n(y,{title:"Hi,Template"},{default:d((()=>[n(_,{bordered:!1},r({default:d((()=>[j])),_:2},[a.isEdit?{name:"footer",fn:d((()=>[n(g,{justify:"end"},{default:d((()=>[n(b,{type:"default",onClick:e[0]||(e[0]=e=>a.isShow=!1),strong:"",secondary:""},{default:d((()=>[m("取消")])),_:1}),n(b,{type:"primary",onClick:a.submitFunc,loading:a.loading},{default:d((()=>[m("保存")])),_:1},8,["onClick","loading"])])),_:1})])),key:"0"}:void 0]),1024)])),_:1})])),_:1},8,["show"])}]])},setup:()=>({search:w({name:""})}),methods:{}}),[["render",function(e,s,t,o,i,r){const u=h,c=_,f=a,p=y("FormModal");return l(),b(g,null,[n(f,{subHeight:240,search:e.search,ref:"tables",onView:s[2]||(s[2]=a=>e.openModal({id:a.id,isEdit:!1},"formModal")),onEdit:s[3]||(s[3]=a=>e.openModal({id:a.id,isEdit:!0},"formModal")),scrollX:1800,url:"admin/api/menu/index",handle:e._handleBtn},{btn:d((()=>[n(u,{quaternary:"",onClick:s[0]||(s[0]=a=>e.openModal({id:null},"formModal"))},{default:d((()=>[m("创建")])),_:1})])),default:d((()=>[n(c,{value:e.search.name,"onUpdate:value":s[1]||(s[1]=a=>e.search.name=a),filterable:"",placeholder:"模板名称"},null,8,["value"])])),_:1},8,["search","handle"]),n(p,{ref:"formModal"},null,512)],64)}]]);export{k as default};
