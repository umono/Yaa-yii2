var e=Object.defineProperty,t=(t,a,s)=>(((t,a,s)=>{a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s})(t,"symbol"!=typeof a?a+"":a,s),s);import{d as a,u as s,a as n,c as o,r,o as l,b as i,w as d,e as c,_ as u,f as m,g as p,h,i as g,j as f,p as v,k as T,l as b,m as _,I as w,R as S,W as y,n as E,P as A,q as I,B as R,C as O,s as U,t as C,N as L,v as k,x,y as N,z as P,A as M,D,E as K,F as $,G as j,H as G,J as B,K as H,L as F,M as q,O as V,Q as J,S as W,T as Y,U as z,V as X,X as Q,Y as Z,Z as ee,$ as te,a0 as ae,a1 as se,a2 as ne,a3 as oe,a4 as re,a5 as le,a6 as ie,a7 as de,a8 as ce,a9 as ue,aa as me,ab as pe,ac as he,ad as ge,ae as fe}from"../js/.pnpm/.pnpm.dd1a9690.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const ve=(e,t)=>{const a=e.__vccOpts||e;for(const[s,n]of t)a[s]=n;return a};const Te=ve(a({setup(){window.$message=s()}}),[["render",function(e,t,a,s,n,o){return null}]]),be={common:{},Layout:{},Menu:{},Input:{}},_e={common:{primaryColor:"#0057ff",primaryColorHover:"#0057ff",primaryColorPressed:"#0057ff",borderRadius:"5px"},Input:{}};const we=ve(a({components:{MessageApi:Te},setup(){const e=n();let t=o((()=>e.getters["theme/getTheme"]));return{locale:r(null),dateLocale:r(null),darkThemeOverrides:be,lightThemeOverrides:_e,theme:t}},beforeCreate(){this.$store.dispatch("theme/init"),this.$store.dispatch("auth/initClientId"),this.$store.dispatch("adminNavStore/initTabs")}}),[["render",function(e,t,a,s,n,o){const r=Te,g=u,f=m("router-view"),v=p,T=h;return l(),i(T,{"preflight-style-disabled":"","inline-theme-disabled":!1,theme:e.theme,"theme-overrides":null===e.theme?e.lightThemeOverrides:e.darkThemeOverrides,locale:e.$store.state.theme.locale,"date-locale":e.$store.state.theme.dateLocale},{default:d((()=>[c(g,null,{default:d((()=>[c(r)])),_:1}),c(f),c(v)])),_:1},8,["theme","theme-overrides","locale","date-locale"])}]]),Se={},ye=function(e,t,a){if(!t||0===t.length)return e();const s=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if(e=function(e,t){return new URL(e,t).href}(e,a),e in Se)return;Se[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(!!a)for(let a=s.length-1;a>=0;a--){const n=s[a];if(n.href===e&&(!t||"stylesheet"===n.rel))return}else if(document.querySelector(`link[href="${e}"]${n}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),t?new Promise(((t,a)=>{o.addEventListener("load",t),o.addEventListener("error",(()=>a(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e()))},Ee=[{path:"/test",name:"Test",component:()=>ye((()=>import("../js/test/Index.70ac5a9c.js")),["../js/test/Index.70ac5a9c.js","../js/.pnpm/.pnpm.dd1a9690.js"],import.meta.url)}],Ae=[];["home","admin","admin-group","admin-log","user","menu"].forEach((e=>{const t=Object.assign({"../../../../views/Admin/admin-group/Index.vue":()=>ye((()=>import("../js/admin-group/Index.db2a3ccb.js")),["../js/admin-group/Index.db2a3ccb.js","../js/TableData/TableData.6533d4d6.js","../js/.pnpm/.pnpm.dd1a9690.js","./TableData.1ea37d48.css","./Index.69d7d3f6.css"],import.meta.url),"../../../../views/Admin/admin-log/Index.vue":()=>ye((()=>import("../js/admin-log/Index.9312c139.js")),["../js/admin-log/Index.9312c139.js","../js/TableData/TableData.6533d4d6.js","../js/.pnpm/.pnpm.dd1a9690.js","./TableData.1ea37d48.css","./Index.1c1841a8.css"],import.meta.url),"../../../../views/Admin/admin/Index.vue":()=>ye((()=>import("../js/admin/Index.d73a280b.js")),["../js/admin/Index.d73a280b.js","../js/TableData/TableData.6533d4d6.js","../js/.pnpm/.pnpm.dd1a9690.js","./TableData.1ea37d48.css"],import.meta.url),"../../../../views/Admin/home/Index.vue":()=>ye((()=>import("../js/home/Index.2fe5c943.js")),["../js/home/Index.2fe5c943.js","../js/.pnpm/.pnpm.dd1a9690.js","./Index.070dc35b.css"],import.meta.url),"../../../../views/Admin/login/Index.vue":()=>ye((()=>import("../js/login/Index.e6e00d25.js")),["../js/login/Index.e6e00d25.js","../js/.pnpm/.pnpm.dd1a9690.js","./Index.ef08db21.css"],import.meta.url),"../../../../views/Admin/menu/Index.vue":()=>ye((()=>import("../js/menu/Index.52f81388.js")),["../js/menu/Index.52f81388.js","../js/TableData/TableData.6533d4d6.js","../js/.pnpm/.pnpm.dd1a9690.js","./TableData.1ea37d48.css"],import.meta.url),"../../../../views/Admin/template/Index.vue":()=>ye((()=>import("../js/template/Index.bd366c29.js")),["../js/template/Index.bd366c29.js","../js/TableData/TableData.6533d4d6.js","../js/.pnpm/.pnpm.dd1a9690.js","./TableData.1ea37d48.css"],import.meta.url),"../../../../views/Admin/user/Index.vue":()=>ye((()=>import("../js/user/Index.4f9b65cc.js")),["../js/user/Index.4f9b65cc.js","../js/TableData/TableData.6533d4d6.js","../js/.pnpm/.pnpm.dd1a9690.js","./TableData.1ea37d48.css"],import.meta.url)});Ae.push({path:e,name:e.toUpperCase(),component:t[`../../../../views/Admin/${e}/Index.vue`]})}));const Ie=[{path:"",redirect:"/admin/home"}].concat(Ae),Re={setup:()=>({})},Oe={class:"not-found"},Ue=(e=>(v("data-v-efa2effb"),e=e(),T(),e))((()=>b("span",{class:"label"},"404",-1)));const Ce=ve(Re,[["render",function(e,t,a,s,n,o){const r=m("css-doodle");return l(),g("div",Oe,[c(r,{class:"bg"},{default:d((()=>[f(" @grid: 50x1 / 100%; @place: center; @size: calc(75% / @I * @i); transform: rotate(calc(@i * 5deg)); border-radius: 30%; border: 1px solid hsla( calc(10 + 4 * @i), 70%, 68%, @r.8 ); ")])),_:1}),Ue])}],["__scopeId","data-v-efa2effb"]]),Le={setup:()=>({})},ke={class:"m-auto h-screen bg-gray-400"},xe=[_('<div class="relative top-1/3"><div class="m-auto bg-white w-64 shadow-2xl p-3 rounded-xl cursor-pointer"><div></div><div class="text-center"><div class="font-bold text-black text-base">Yaa - yii2</div><div class="text-slate-400">@welcome</div></div></div></div>',1)];const Ne=ve(Le,[["render",function(e,t,a,s,n,o){return l(),g("div",ke,xe)}]]);const Pe=ve({setup:()=>({}),created(){}},[["render",function(e,t,a,s,n,o){const r=m("router-view");return l(),i(r)}]]);const Me=ve(a({components:{Icon:w,RefreshRound:S,WeatherMoon24Regular:y,WeatherSunny24Regular:E,PositionForward24Filled:A,PositionBackward24Filled:I,BroadActivityFeed16Regular:R,CalendarWeekStart24Regular:O,CheckboxUnchecked20Regular:U},setup(){const e=C("reload"),t=n();return{reload:e,theme:o((()=>t.getters["theme/getTheme"])),haveFroward:o((()=>t.getters["theme/getHaveForward"])),showTabs:o((()=>t.getters["adminNavStore/getShowTabs"])),toggleShowTabs(){t.dispatch("adminNavStore/setShowTabs")}}},methods:{toggleTheme(e){this.$store.dispatch("theme/toggle",e)},toggleLanguage(e){this.$store.dispatch("theme/toggleLanguage",e)}}}),[["render",function(e,t,a,s,n,o){const r=m("RefreshRound"),u=L,p=k,h=x,g=m("CalendarWeekStart24Regular"),v=m("BroadActivityFeed16Regular"),T=N,b=P;return l(),i(b,{class:"header-box"},{default:d((()=>[c(T,null,{default:d((()=>[c(h,{placement:"top-start",trigger:"hover"},{trigger:d((()=>[c(p,{strong:"",secondary:"",circle:"",onClick:e.reload},{icon:d((()=>[c(u,null,{default:d((()=>[c(r)])),_:1})])),_:1},8,["onClick"])])),default:d((()=>[f(" 刷新页面 ")])),_:1}),c(p,{strong:"",secondary:"",circle:"",onClick:e.toggleShowTabs},{icon:d((()=>[c(u,null,{default:d((()=>[e.showTabs?(l(),i(g,{key:0})):(l(),i(v,{key:1}))])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-8dd26f09"]]),De=a({props:["src","isShadow","fillet","showLabel"]}),Ke={key:0,class:"label"};const $e=ve(De,[["render",function(e,t,a,s,n,o){const r=K;return l(),g("div",{class:D(["avatar",(0==e.isShadow?"no-shadow":"")+(1==e.fillet?"fillet":"")])},[c(r,{src:e.src,"fallback-src":"https://inews.gtimg.com/newsapp_bt/0/14751264257/1000","object-fit":"cover",lazy:"","preview-disabled":!0},null,8,["src"]),1==e.showLabel?(l(),g("div",Ke)):M("",!0)],2)}],["__scopeId","data-v-6b987b36"]]),je=Object.freeze(Object.defineProperty({__proto__:null,Home24Filled:$,PeopleAudience24Filled:j,People24Filled:G,AppsList24Filled:B},Symbol.toStringTag,{value:"Module"}));let Ge=r([]);const Be=a({props:["activeKey"],components:{NLayoutSider:H,NMenu:F,NImage:K},setup(e){const t=n();let a=r(e.activeKey);const s=r(null),o=r([a.value]);return q((()=>t.getters["menuStore/getActiveKey"]),(e=>{var t;a.value=e,null==(t=s.value)||t.showOption(e)})),setTimeout((()=>{var e;null==(e=s.value)||e.showOption(a.value)}),500),q((()=>t.getters["auth/getGroupMenus"]),(e=>{const t=JSON.parse(JSON.stringify(e));t.forEach((e=>{const t=(a=e.icon,je[a]);var a,s;e.icon=(s=t,()=>V(L,null,{default:()=>V(s)}))})),Ge.value=t}),{deep:!0}),{activeKey:a,menuOptions:Ge,menuInstRef:s,defaultExpandedKeys:o}},created(){this.init()},methods:{async init(){const{data:e}=await this.$store.dispatch("auth/authentication");if(e){const t=this.$route.path.replace("/admin/","");if(!e.groupMenuKey[t])return this.$router.replace({path:"/admin/404"});const a={path:"/admin/"+t,title:e.groupMenuKey[t][1],pin:!0,pathKey:e.groupMenuKey[t][0]};this.$store.dispatch("adminNavStore/addTab",a)}},changMenu(e,t){let a="/admin/";this.$store.dispatch("menuStore/setActiveKey",e);const s={path:a+e,title:t.label,pin:!0,pathKey:t.pathKey};return this.$store.dispatch("adminNavStore/addTab",s),this.$router.push(a+e)}}});const He=a({components:{GeneralMenu:ve(Be,[["render",function(e,t,a,s,n,o){const r=F;return e.menuOptions.length>0?(l(),i(r,{key:0,class:"menu-item",ref:"menuInstRef",value:e.activeKey,"onUpdate:value":t[0]||(t[0]=t=>e.activeKey=t),options:e.menuOptions,onUpdateValue:e.changMenu,"default-expanded-keys":e.defaultExpandedKeys},null,8,["value","options","onUpdateValue","default-expanded-keys"])):M("",!0)}]]),Avatar:$e,LogOutOutline:J,Icon:w},setup(){const e=n(),t=o((()=>e.getters["menuStore/getActiveKey"])),a=o((()=>e.getters["theme/getTheme"]));return{userInfo:o((()=>e.getters["auth/getUser"])),activeKey:t,theme:a,collapsed:r(!1)}},created(){let e=this.$route.path.replace("/admin/","");this.$store.dispatch("menuStore/setActiveKey",e)},methods:{async handleSelect(e){if("logout"==e){const{data:e}=await this.$http.post("admin/api/auth/logout");if(e)return this.$store.dispatch("auth/logout"),this.$store.dispatch("auth/initClientId"),this.$router.push({path:"/admin/login",query:{direct:this.$route.fullPath}})}}}}),Fe={class:"user-box"},qe={class:"account-box"},Ve={class:"info"},Je={class:"name"},We={class:"des"},Ye={key:0,style:{"margin-top":"35px"}},ze=(e=>(v("data-v-31983833"),e=e(),T(),e))((()=>b("div",{class:"left-filter-box"},null,-1)));const Xe=ve(He,[["render",function(e,t,a,s,n,o){const r=$e,u=m("LogOutOutline"),p=m("Icon"),h=k,f=Y,v=m("GeneralMenu"),T=H;return l(),i(T,{class:D(["left-menu",(1==e.collapsed?" collapsed ":"")+(null==e.theme?"  moon ":"drak")]),bordered:"","collapse-mode":"width","collapsed-width":90,width:268,collapsed:e.collapsed,"show-trigger":"",onCollapse:t[1]||(t[1]=t=>e.collapsed=!0),onExpand:t[2]||(t[2]=t=>e.collapsed=!1)},{default:d((()=>[b("div",Fe,[b("div",qe,[c(r,{showLabel:!0,src:e.userInfo.avatar,"onUpdate:src":t[0]||(t[0]=t=>e.userInfo.avatar=t)},null,8,["src"]),b("div",Ve,[b("div",Je,W(e.userInfo.username),1),b("div",We,W(e.userInfo.adminGroupId),1)])]),1!=e.collapsed?(l(),g("div",Ye,[c(f,{options:[{label:"退出登录",key:"logout"}],placement:"bottom-start",trigger:"click",onSelect:e.handleSelect},{default:d((()=>[c(h,{strong:"",secondary:"",circle:""},{icon:d((()=>[c(p,null,{default:d((()=>[c(u)])),_:1})])),_:1})])),_:1},8,["onSelect"])])):M("",!0)]),c(v,{activeKey:e.activeKey},null,8,["activeKey"]),ze])),_:1},8,["class","collapsed"])}],["__scopeId","data-v-31983833"]]),Qe=a({setup(){const e=n(),t=o((()=>e.getters["adminNavStore/getTabs"])),a=r("");return q((()=>e.getters["adminNavStore/getCurrentTab"]),(e=>{a.value=e.title}),{deep:!0}),{navTabs:t,defaultTab:a,handleClose(t){e.dispatch("adminNavStore/deleteTab",t)}}},methods:{handleUpdateValue(e){this.navTabs.forEach((t=>{t.title==e&&(this.$store.dispatch("adminNavStore/addTab",t),this.$router.push(t.path))}))}}});const Ze=[{path:"/",component:Pe,children:[{path:"",component:Ne},...Ee,{path:"/admin/",component:ve(a({components:{AdminHeader:Me,AdminHeaderTab:ve(Qe,[["render",function(e,t,a,s,n,o){const r=Q,u=Z,m=P;return l(),i(m,{class:"header-tabs","content-style":"padding: 0;"},{default:d((()=>[c(u,{type:"card","tabs-padding":20,class:"tabs",closable:"",onClose:e.handleClose,value:e.defaultTab,"onUpdate:value":[t[0]||(t[0]=t=>e.defaultTab=t),e.handleUpdateValue]},{default:d((()=>[(l(!0),g(X,null,z(e.navTabs,(e=>(l(),i(r,{key:e.path,class:"item",name:e.title,closable:e.pin},null,8,["name","closable"])))),128))])),_:1},8,["onClose","value","onUpdate:value"])])),_:1})}],["__scopeId","data-v-a1eb66b2"]]),AdminLeftMenu:Xe},setup(){const e=n();let t=r(!0);const a=o((()=>e.getters["adminNavStore/getShowTabs"]));return ee("reload",(()=>{t.value=!1,setTimeout((()=>{t.value=!0}),100)})),{isRouterAlive:t,showTabs:a}}}),[["render",function(e,t,a,s,n,o){const r=Xe,u=Me,p=m("AdminHeaderTab"),h=m("router-view"),g=re;return l(),i(g,{"has-sider":"",class:"page"},{default:d((()=>[c(r),c(g,{class:"content-page-box"},{default:d((()=>[c(u),c(te,{name:"fade",mode:"out-in"},{default:d((()=>[ae(c(p,null,null,512),[[se,!0===e.showTabs]])])),_:1}),c(h,null,{default:d((({Component:t})=>[c(te,{name:"fade",mode:"out-in"},{default:d((()=>[b("div",null,[e.isRouterAlive?(l(),i(ne,{key:0},[(l(),i(oe(t)))],1024)):M("",!0)])])),_:2},1024)])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-88a74df6"]]),children:[...Ie]},{path:"/admin/login",component:()=>ye((()=>import("../js/login/Index.e6e00d25.js")),["../js/login/Index.e6e00d25.js","../js/.pnpm/.pnpm.dd1a9690.js","./Index.ef08db21.css"],import.meta.url)},{path:"/:pathMatch(.*)*",name:"NotFound",component:Ce}]}],et={Encrypt(e){var t=le.AES.encrypt(e,le.enc.Utf8.parse("yt12an145920Yt20"),{iv:le.enc.Utf8.parse("20yt029541NA21Yt")});return le.enc.Base64.stringify(t.ciphertext)},Decrypt:e=>(e=e.replace(/\s+/g,"+"),le.AES.decrypt(e,le.enc.Utf8.parse("yt12an145920Yt20"),{iv:le.enc.Utf8.parse("20yt029541NA21Yt")}).toString(le.enc.Utf8))},tt={getClientId:()=>window.localStorage.getItem("client-id"),setClientId(e){window.localStorage.setItem("client-id",e)},getAccessToken:()=>window.localStorage.getItem("ACCESS_TOKEN"),resetToken(){const e=window.localStorage.getItem("ACCESS_TOKEN");if(e){const t=et.Decrypt(e).split(","),a=(new Date).valueOf()-3e3,s=t[0]+","+t[1]+","+a;return et.Encrypt(s)}return""},setAccessToken(e){null==e?window.localStorage.removeItem("ACCESS_TOKEN"):window.localStorage.setItem("ACCESS_TOKEN",e)}},at={namespaced:!0,state:()=>({theme:null,locale:ie,dateLocale:de,haveForward:!1}),getters:{getTheme:e=>e.theme,getHaveForward:e=>e.haveForward},mutations:{INIT_THEME:e=>{const t=window.localStorage.getItem("darkMode");null==t?e.theme?window.localStorage.setItem("darkMode","true"):window.localStorage.setItem("darkMode","false"):e.theme="true"==t?ce:null},TOGGLE_THEME:(e,t)=>{t?(e.theme=ce,window.localStorage.setItem("darkMode","true")):(e.theme=null,window.localStorage.setItem("darkMode","false"))},TOGGLE_LANGUAGE:(e,t)=>{"zh-CN"==t?(e.locale=ie,e.dateLocale=de):(e.locale=null,e.dateLocale=null)},TOGGLE_ROUTER_STATUS:(e,t)=>{e.haveForward=t}},actions:{init({commit:e}){e("INIT_THEME")},toggle({commit:e},t){e("TOGGLE_THEME",t)},toggleLanguage({commit:e},t){e("TOGGLE_LANGUAGE",t)},toggleRouter({commit:e},t){e("TOGGLE_ROUTER_STATUS",t)}}};const st=200,nt=401,ot=new class{constructor(e){t(this,"httpClient");const a={baseUrl:"",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},params:{},timeout:9e6,withCredentials:!1,responseType:"json",maxContentLength:2e3,validateStatus:function(e){return e>=200&&e<500},maxRedirects:3,data:{},getClientId:()=>null,getAccessToken:()=>null,successHandler:e=>{Promise.resolve(e)},errorHandler:e=>{Promise.reject(e)},...e},s=ue.create({baseURL:a.baseUrl,timeout:a.timeout,withCredentials:a.withCredentials});s.interceptors.request.use((e=>{const t=a.getClientId();t&&(e.headers["X-Client-Id"]=t);const s=a.getAccessToken();return s&&(e.headers["X-Access-Token"]=s),e.headers["admin-campus-id"]=window.localStorage.getItem("admin_campus_id"),e})),s.interceptors.response.use((e=>a.successHandler(e)),(e=>a.errorHandler(e))),this.httpClient=s}request(e,t,a=null,s=null){const n={};return n.url=t,n.method=e,a&&(n.params=a),s&&(n.data=s),this.httpClient.request(n).then((e=>({...e,error:null}))).catch((e=>({err:e,data:null})))}get(e,t=null){return this.request("GET",e,t)}head(e,t=null){return this.request("HEAD",e,t)}post(e,t=null,a=null){return this.request("POST",e,a,t)}put(e,t=null,a=null){return this.request("PUT",e,a,t)}path(e,t=null,a=null){return this.request("PATH",e,a,t)}delete(e,t=null,a=null){return this.request("DELETE",e,a,t)}download(e,t,a=null,s=null,n=null){const o={};return o.url=t,o.method=e,o.timeout=9e10,o.responseType="blob",a&&(o.params=a),s&&(o.data=s),this.httpClient.request(o).then((e=>{let t=e.headers["x-suggested-filename"];const a=window.URL.createObjectURL(new Blob([e.data])),s=document.createElement("a");s.href=a,s.setAttribute("target","_blank");const o=(n||"")+t;return s.setAttribute("download",decodeURIComponent(o)),s.click(),window.URL.revokeObjectURL(a),!0})).catch((()=>!1))}}({baseUrl:"http://localhost:9527/",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},getClientId:()=>tt.getClientId(),getAccessToken:()=>tt.resetToken(),successHandler:e=>{const t=window.$message;let a=e.data.code;if(a==nt&&(tt.setAccessToken(null),it.replace({path:"/admin/login",query:{direct:it.currentRoute.value.fullPath}})),"blob"===e.config.responseType)return Promise.resolve(e);if(a!=st){if(e.data){const a=e.data;if(a.msg)t.error(a.msg);else if(Array.isArray(a))a.forEach((function(e){t.error(e.msg)}));else if(a instanceof Blob){const e=new Blob([a]),s=new FileReader;s.onloadend=e=>{const a=JSON.parse(e.currentTarget.result);t.error(a.msg)},s.readAsText(e)}}return Promise.reject(e.data)}return Promise.resolve(e.data)},errorHandler:e=>{const t=window.$message;if(e.response){if(e.response.status!=st)if(e.response.data){const a=e.response.data;if(a.msg)t.error(a.msg);else if(a instanceof Blob){const e=new Blob([a]),s=new FileReader;s.onloadend=e=>{const a=JSON.parse(e.currentTarget.result);t.error(a.msg)},s.readAsText(e)}}else t.error(e.message)}else t.error(e.message);return Promise.reject(e)}}),rt=me({strict:!1,modules:{theme:at,auth:{namespaced:!0,state:()=>({user:null,groupAcl:[],groupMenus:[],groupMenuKey:[]}),getters:{getUser:e=>e.user,isRouteInAcl:e=>t=>e.groupAcl.includes(t),getGroupMenus:e=>e.groupMenus,getGroupMenuKey:e=>e.groupMenuKey},mutations:{INIT_USER:(e,t)=>{e.user=t,window.localStorage.setItem("userInfo",JSON.stringify(t))},RESET_USER:e=>{let t=window.localStorage.getItem("userInfo");t&&(t=JSON.parse(t),e.user=t)},UPDATE_GROUP_ACL:(e,t)=>{e.groupAcl=t},UPDATE_GROUP_MENUS:(e,t)=>{e.groupMenus=t},UPDATE_GROUP_MENU_KEY:(e,t)=>{e.groupMenuKey=t}},actions:{initClientId({commit:e}){tt.getClientId()||tt.setClientId(Math.random().toString(36).substr(2)),e("RESET_USER")},updateUser({commit:e},t){e("INIT_USER",t)},logout(){window.localStorage.clear()},clear({commit:e}){window.localStorage.clear(),e("INIT_USER",null),e("UPDATE_GROUP_MENUS",[]),tt.setAccessToken(null),tt.setClientId(Math.random().toString(36).substr(2))},login({commit:e},t){e("INIT_USER",t),tt.setAccessToken(t.token)},authentication:({commit:e})=>ot.get("admin/api/auth/authentication").then((t=>(e("UPDATE_GROUP_ACL",t.data.groupAcl),e("UPDATE_GROUP_MENUS",t.data.groupMenus),e("UPDATE_GROUP_MENU_KEY",t.data.groupMenuKey),t)))}},menuStore:{namespaced:!0,state:()=>({activeKey:""}),getters:{getActiveKey:e=>e.activeKey},mutations:{SET:(e,t)=>{e.activeKey=t}},actions:{setActiveKey({commit:e},t){e("SET",t)}}},tableStore:{namespaced:!0,state:()=>({selectDragArr:[],tableDrag:[]}),getters:{getTableDrag:e=>e.tableDrag,getSelectDragArr:e=>e.selectDragArr},mutations:{SET_TABLE_DRAG:(e,t)=>{e.tableDrag=t},SET_SELECT_DRAG_ARR:(e,t)=>{e.selectDragArr=t}},actions:{setTableDrag({commit:e},t){e("SET_TABLE_DRAG",t)},setSelectDrag({commit:e},t){e("SET_SELECT_DRAG_ARR",t)}}},adminNavStore:{namespaced:!0,state:()=>({tabs:[{path:"/admin/home",title:"控制台",pin:!1}],currentTab:[],showTabs:!1}),getters:{getTabs:e=>e.tabs,getCurrentTab:e=>e.currentTab,getShowTabs:e=>e.showTabs},mutations:{INIT_TABS:(e,t)=>{const a=window.localStorage.getItem("yaa-tabs-nav"),s=window.localStorage.getItem("ifyaa-tabs-nav");a&&a.length>0&&(e.tabs=JSON.parse(a)),s&&(e.showTabs=JSON.parse(s))},ADD_TABS:(e,t)=>{if(e.tabs.length>0){let a=!1;for(let s=0;s<e.tabs.length;s++)t.title==e.tabs[s].title&&(a=!0);a||e.tabs.push(t)}else e.tabs.push(t);e.currentTab=t,window.localStorage.setItem("yaa-tabs-nav",JSON.stringify(e.tabs))},DELETE_TABS:(e,t)=>{let a=null,s=null,n=null,o=e.tabs.length;e.tabs.forEach(((a,o)=>{a.title==t&&(n=o),a.title==e.currentTab.title&&(s=o)})),e.tabs.splice(n,1),n==s&&(a=s+1>=o?e.tabs[s-1]:e.tabs[s]),window.localStorage.setItem("yaa-tabs-nav",JSON.stringify(e.tabs)),a&&(e.currentTab=a,it.push(a.path))},SET_SHOW_TABS(e){e.showTabs=!e.showTabs,window.localStorage.setItem("ifyaa-tabs-nav",e.showTabs)}},actions:{initTabs({commit:e},t){e("INIT_TABS",t)},addTab({commit:e},t){e("ADD_TABS",t)},deleteTab({commit:e},t){e("DELETE_TABS",t)},setShowTabs({commit:e},t){e("SET_SHOW_TABS",t)}}}}}),lt=pe({history:he(),routes:Ze,scrollBehavior(e,t,a){const s=e.path.replace("/admin/","");rt.dispatch("menuStore/setActiveKey",s),a&&window.history.state.forward?rt.dispatch("theme/toggleRouter",!0):rt.dispatch("theme/toggleRouter",!1)}});lt.beforeEach(((e,t,a)=>{const s=/^\/admin\/(.*?)/.test(e.path);"/admin/login"!=e.path?s?tt.getAccessToken()?a():a({path:"/admin/login",query:{redirect:e.fullPath}}):a():tt.getAccessToken()?a("/admin/"):a()}));const it=lt,dt=a({data:()=>({_handleBtn:ge([{title:"操作",key:"tags",width:200,fixed:"right",NButtons:[{size:"small",emitFunction:"view",text:"查看"},{size:"small",type:"info",emitFunction:"edit",text:"编辑"}]}])}),methods:{openModal(e=null,t=null){if(!t)return window.$message.warning("请在使用openModal方法时, 填写ref名称。");const a=this.$refs[t];if(!a)return window.$message.warning("请确保ref名称组件存在。");a.show(e)}}}),ct=fe(we);ct.config.globalProperties.$http=ot,ct.config.globalProperties.$store=rt,ct.mixin(dt),ct.use(rt).use({install:(e,t)=>{e.config.globalProperties.$can=e=>t.getters["auth/isRouteInAcl"](e)}},rt).use(it).mount("#app");export{et as C,ot as R,ve as _,tt as a};
